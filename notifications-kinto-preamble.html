<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Service de nuages, ">

        <link rel="alternate"  href="http://www.servicedenuages.fr/feeds/all.atom.xml" type="application/atom+xml" title="Service de nuages Full Atom Feed"/>

        <title>Les notifications dans Kinto (Pr√©ambule) // Service de nuages // </title>


    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.3.0/pure-min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.1.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="http://www.servicedenuages.fr/theme/css/pure.css">
    <link rel="stylesheet" href="http://www.servicedenuages.fr/theme/css/pygments.css">

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/fitvids/1.0.1/jquery.fitvids.min.js"></script>
    <script>
        $(document).ready(function(){
            $(".content").fitVids();
        });
    </script>
</head>

<body>
<div class="pure-g-r" id="layout">
    <div class="sidebar sidebar-article pure-u">
        <header class="header-article">
            <hgroup>
                <h5>Publi√©</h5>
                <p title="~1773 mots">~8mn de lecture üïë</p>
                <p>jeu. 13 ao√ªt 2015</p>
                <a href="/">&larr;Liste des articles</a>
            </hgroup>
        </header>
    </div>
    <div class="pure-u">
        <div class="content">
            <section class="post">
                <header class="post-header">
                    <h1>Les notifications dans Kinto (Pr√©ambule)</h1>
                </header>
            </section>
                        <p><a href="http://www.servicedenuages.fr/en/notifications-kinto-preamble">Read the English version</a></p>
            <blockquote>
<p>Traduit de l'anglais par <a href="https://twitter.com/Natim">R√©my Hubscher</a>.</p>
</blockquote>
<p>Lors de notre derni√®re <em>workweek</em> dans l'adorable ville de
<a href="https://www.qwant.com/?q=Douarnenez&amp;t=images">Douarnenez</a> nous avons
d√©fini les fondations de la prochaine fonctionnalit√© de
<a href="https://kinto.readthedocs.org">Kinto</a> : <em>les notifications !</em></p>
<p><img alt="Coucher de soleil sur Douarnenez (@phrawzty)" src="http://www.servicedenuages.fr/images/notifications-douarnenez.jpg" style="width: 800px; height: auto; max-width: 100%;"/></p>
<h1>tl;dr</h1>
<p>Pour les press√©s, un petit r√©sum√© : Nous allons ajouter
un syst√®me de "notifications" √† Kinto, sans perdre de vue la
simplicit√© et la flexibilit√©. Notre objectif est de
proposer un protocole qui permette √† d'autres syst√®mes de se brancher
tr√®s simplement sur les notifications d'√©v√©nements de Kinto.</p>
<h1>Pourquoi ?</h1>
<p>La r√©ponse la plus simple est que nous en avons besoin. Nous
avons une plateforme appel√©e <a href="https://wiki.mozilla.org/Balrog">Balrog</a>
qui fait partie du syst√®me de mise √† jour utilis√© par Firefox et par
d'autres produits Mozilla.</p>
<p>Dans l'id√©e d'am√©liorer et d'√©tendre le processus de mise √† jour (sous
la houlette du projet "<a href="https://wiki.mozilla.org/Firefox/Go_Faster">Go Faster</a>"),
nous avons besoin de stocker et de transmettre de petits blocs d'information √†
la fois entre des syst√®mes internes mais aussi avec l'ensemble de nos
utilisateurs.</p>
<p>Kinto r√©pond parfaitement au besoin, mis √† part en ce qui concerne la
notification des utilisateurs lors d'une mise √† jour.</p>
<p>Aucun probl√®me. Il ne reste plus qu'√† ajouter la fonctionnalit√©.</p>
<h2>Mais attention √† ne pas oublier une petite chose !</h2>
<p>Bien s√ªr, Kinto est un projet Mozilla - mais il a √©t√© con√ßu comme une
solution g√©n√©rique, ce qui veut dire que tout ce que nous ajoutons
doit rester raisonnablement g√©n√©rique.</p>
<p>C'est pourquoi nous avons souhait√© proposer une solution r√©utilisable
dans diff√©rents contextes ; nous sommes une organisation qui construit
avec et pour le web c'est pourquoi la solution que nous proposons est
avant tout orient√©e web.</p>
<p>En faisant le tour des param√®trages qu'une solution raisonnablement
g√©n√©rique devrait proposer, nous avons d√©fini les exigences suivantes
pour notre syst√®me de notifications :</p>
<ul>
<li>S'efforcer d'√™tre agnostique autant que possible, c'est-√†-dire ne
  pas forcer les d√©veloppeurs √† utiliser une solution
  sp√©cifique. (service, backend voire m√™me langage de programmation)</li>
<li>Puisque nous sommes orient√© web, utiliser le protocole HTTP d√®s que possible.</li>
<li>Le syst√®me de notification doit √™tre capable de passer √† l'√©chelle
  facilement ; cela s'applique √† tous les √©ventuels syst√®mes de
  queuing, workers, etc.</li>
<li>Pour finir ce doit √™tre un syst√®me robuste, nous ne souhaitons pas perdre de messages.</li>
</ul>
<h1>Qu'est-ce que nous essayons de faire ?</h1>
<p>Avant de rentrer dans les menus d√©tails, prenons un moment pour
d√©crire ce que nous essayons de faire - sur le papier, au moins, c'est
assez simple :</p>
<p><div class="graphviz" style="text-align: center;"><img src="data:image/png;base64,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"/></div></p>
<ul>
<li>Un <em>message</em> est un morceau d'information qui est envoy√© d'un
  endroit √† l'autre - par exemple, une requ√™te HTTP. Les messages
  peuvent venir d'autre part, comme par exemple d'un service externe,
  ou √™tre g√©n√©r√©s en interne.</li>
<li>Une <em>action</em> est un processus qui est d√©clench√© en fonction du
  message. √áa peut √™tre aussi simple qu'incr√©menter un compteur en
  m√©moire. √áa peut aussi √™tre quelque chose de plus complexe comme par
  exemple d√©clencher une suite de tests. √áa peut aussi √™tre ex√©cuter
  une fonctionnalit√© de Kinto, un programme local, une fonctionnalit√©
  ajout√©e par un plugin ou tout autre chose.</li>
<li>Un <em>r√©sultat</em>, comme son nom l'indique, est ce qui r√©sulte de
  l'<em>action</em>. Un exemple simple pourrait √™tre la valeur du compteur,
  dont nous avons parl√© tout √† l'heure, sous la forme d'un entier dans
  un paquet JSON. Mais √ßa peut √©galement √™tre le r√©sultat de la suite
  de tests (les possibilit√©s sont sans limites).</li>
<li>Pris dans leur ensemble, les <em>√©v√®nements</em> peuvent √™tre vus comme un
  cycle : un message est re√ßu, une action a lieu qui g√©n√®re un nouveau
  message.</li>
</ul>
<blockquote>
<p>Une notification est donc la combinaison d'un message et d'une
  action d√©clench√©e suite √† un √©v√®nement. Le r√©sultat, bien que
  directement li√© √† l'action ne fait pas partie de la notification.</p>
</blockquote>
<p>Cette petite distinction n√©cessite une explication. L'instigateur du
message n'est pas forc√©ment concern√© par ce que Kinto va faire avec.</p>
<p>En g√©n√©ral, il est suffisant de savoir que Kinto a re√ßu un message et
qu'il sera trait√©. Cela permet de bien d√©coupler les diff√©rents
√©l√©ments du syst√®me.</p>
<p>Nous allons continuer √† explorer le sens des termes par la suite. Pour
le moment, continuons.</p>
<h1>Comment ?</h1>
<p>Il y autant de mani√®re de faire qu'il y a de grains de sables sur la
plage (ceci dit, nous ne l'avons pas v√©rifi√© de mani√®re
scientifique). Le meilleur moyen de d√©terminer l'approche gagnante
reste le duel (√† la Mad Max). Malheureusement notre manager a mis son
v√©to sur ce moyen pour des questions de responsabilit√©, √† la place
nous avons pr√©f√©r√© faire des dessins sur un tableau blanc...</p>
<p><img alt="Whiteboard (@leplatrem)" src="http://www.servicedenuages.fr/images/notifications-whiteboard.jpg" style="width: 675px; height: auto; max-width: 100%;"/></p>
<p>Dans un esprit de transparence, voici quelques unes des solutions √©tudi√©es :</p>
<h2>L'approche simple</h2>
<p>La premi√®re approche et de pousser chacune des notifications dans une
file d'attente (dans Redis ou RabbitMQ par exemple) et c'est tout.</p>
<p><div class="graphviz" style="text-align: center;"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVwAAAA7CAYAAAA3kDJ6AAAABmJLR0QA/wD/AP+gvaeTAAAQ8UlEQVR4nO3de1BU5f8H8PdeAO+yaCCoiBdUFBRveKeshUlkJPMWoYEaWGooKqVhIoKINmoGk5emkJEsNSYtNQt11Ak1r2TeyRAxFBCVlctyOXx+f/jb8wVh2WVZdrE+r5mdgbPPOc/n7HOeD4fznOeshIgIjDHGmpzU3AEwxth/BSdcxhgzEU64jDFmIvLnF6jVahw6dAiCIJgjnhdCp06dMHbsWHOHYRBuX924fVljyWQy+Pj4oEWLFjXfoOekpKQQAH7V85LL5c9/bC8Mbl9uX36Z5pWSklKrfWqd4VZWVgIAiG9eqNOePXswffp0c4dhMG7f+nH7MmOQSCRiW1TH13AZY8xEOOEyxpiJcMJljDET4YTLGGMmwgmXMcZMhBMuY4yZCCdcxhgzEU64jDFmIpxwGWuEiooKpKSkICAgADk5OeYOhzVztWaaMcZ0u3v3Lr788kts3boVBQUFICIEBATAwcHB3KGxZowTLmN6qqqqwrFjx7Blyxbs378fMpkM5eXlAJ5N5SwqKjJzhKy544TLmA4PHjxAUlISEhIScO/ePcjlcgiCUOOJXDKZjBMu04kTLmN1ICIcPXoUW7duxb59+2o8jKTOh5JIpcjLy8OjR4+gUCggkUi0bvu3336DWq2Gra0tBgwYoLXcw4cPkZ6eDgAYNGgQOnTooLVscXExysvLUVxcrO8uMjPghMtYNZqnbHXv3h1ZWVmwsLDQ69myEokE0dHRWL58OdRqNaysrLSWVSqVKCsrw8SJE7F//36t5dLS0vDGG28AAJKTkxEQEKC17Ny5c/HNN9/ojJOZFydcxqrRXBbIysqCTCZDRUWF3utOmjQJQUFBkMvr71Z///03WrZsCQsLi3rL+fj44NGjRxAEofaDrJ+zbNkyBAUF4cSJE4iJidE7ZmZaTXJb2B9//IGIiAhIJBJIJBKEhITgyJEjAICzZ89i+vTpkEgkGDBgAGJjY5GXlyeuO3z4cISHhzdFWMwIcnJyMG/ePHh4eMDX1xcjR47E/Pnzcf/+fXOHZhRt27YFAJw/fx4rVqyAq6srgGfXaKVS7d2FiKBQKKBUKiGTyeqtw8HBAQqFAm3atKm3nIWFBRQKBTp27KizrKurK5RKJdzc3Ootp40gCNi2bRuUSiVcXV3h4+ODSZMm4YMPPkBcXByWLFli0HZZTU1yhjtw4EAMHDgQycnJuHv3Lj7//HPxL/SwYcNQXl6OqVOnYseOHWjVqlWNde3s7GBjY9PgOrOzs9G1a1ejxM/qdunSJSiVSgQHB+P06dPiGeCqVavg5uaGX3/9FYMHDzZ3mEYxZMgQDBkyBKtWrUJmZiZSU1Oxb98+HDlyBJWVlZDL5TXOfgVBeGEHze7cuQM/Pz8QEZKSkuDu7g6JRIKqqirs2rULCxcuFC9tsMZp0okPLVu2BAAx2RIRwsLCYG1tjW+//bZWsgWAH3/8EcuXL29QPZmZmXj77bcbH/ALZvLkyXBxccHatWtx586dJq1LEAS88847cHFxQVxcnHgWZ2FhgZiYGAwfPhyBgYH/yu/S6t69O0JCQnDo0CEUFBRg7969CAgIEE8MrKysIAgCVCqVmSNtuLKyMrz++uvIz8/HqVOnMGjQIHHATyqVYsaMGUhJSeHBOCMx2UyzyspKvPvuuygqKsJXX32l898ufd27dw++vr7Iz883yvZeJFlZWbhx4wZWrlyJHj16YNiwYYiPj0dubq7R60pMTMSVK1ewdOnSWu9JJBIsWLAAV65cQWJiotHrbk7atm2LyZMnIzExEfn5+Thz5gzCw8PRv39/ODo6mju8BktKSsLNmzcRGRmp9bLFK6+8gqlTp5o4sn8nkyTc0tJSTJkyBXK5HNu3b6/zWpggCNizZw8CAwPh6ekJIsL+/fsREhKCzp07Iy8vD5MmTUK7du3g4eGBP//8EwCwY8cOXLt2DQ8ePMB7770nbq+wsBDh4eFYtmwZFi9eDG9vbyxevBiPHz82xS6bVGVlJYgIFy5cQFhYGOzt7TFy5Ehs3rwZDx8+NEodmtH0UaNG1fm+5trhTz/9BADYtm2beA0fAFQqFTZs2FBjGfBskComJgazZs3C0KFDoVQqxbY1xjaaklQqxfDhwxEdHY0rV65g06ZNTV6nsR04cAAAMHr06HrLTZ48Wfy5vr6lb78FgGvXrsHb2xsREREIDw+HVCrF06dP9Wr34uJiJCcnw9/fH6NGjcL3338PBwcHeHh44MaNG0hPT4e3tzfat2+PYcOG4dq1azX2R9sxIwgCjh8/jkWLFsHJyQk5OTl4+eWX4ejoiEePHjX+A3/+WyV3795NdSw2SJ8+fQgAeXp6EgD64Ycf6i1fUFBAAKhPnz5UVVVF2dnZ1KZNGwJAq1evpjt37tDBgwcJAI0aNUpcT7OOhkqlImdnZ4qMjBSX5ebmkrOzM3Xv3p0eP35s8D4Z8/NprCFDhmj9xlCZTEYymYzkcjmNHz+ekpKSqKioyOD4nZ2dqXXr1lRVVVXn+4IgkJWVFTk7O4vLevToUauu6suqqqpo5syZdP36dfF9Ly8vsrW1pcLCQqNtoyGaU/saoqHxDxw4kABQUVGRXuV19a1Hjx7p3W/79etHNjY24jHl5+dHubm5RKS73QVBoFu3bhEAsra2pl9++YXu3r1LAKhnz54UFxdHT548ofT0dAJA3t7e4nbqO2by8vIoLS2NWrRoQQBo7dq1lJqaSnPmzKGnT5/q/bkCoN27d9dabpLbwry8vHD69Gm89dZbOHToEF599dU6yykUCvFniUSCLl26wMHBAbdu3cInn3wCAHB0dISdnR3Onz+vtb64uDhkZGRg7ty54jJbW1usWLECgYGBiI2Nxfr16xu1T3v37m3U+sbw9OlTre9Vv5aampqKw4cP4/3338fQoUMNqis7Oxu2trZab+iXSqWws7NDVlaWuKyu256qL0tLS8POnTuxc+fOWuVOnjwJX19fo2yDaafpc7m5uejRo4fO8rr61tq1a7F+/Xq9+q1mosjmzZsRGhqK6OhocbxHV7tLpVL06tULwLOBdm9vbwBAly5dcPv2bXz00UcAng3g29nZ4dy5c+K69R0zv//+O3x9fdG1a1dkZGQgJCQENjY2UCqVOj8bfZgk4a5YsQJubm6YOnUqJk6ciKNHj2L48OG1ytXVmZ9fJpFIYG1tXe91yrS0NAD/u8VHw9PTEwBw6tSpBu/D86ZNm9bobTSWrluFNDQzo0pKSnDy5EmD6uratSsyMzMhCEKd198FQcD9+/dr/NHU5dy5c+jXrx+uXr1qUEzG2sZ/Wd++fXH8+HHcvHlTr4Srb9/Sp99u2bIFQUFBCAsLQ3JyMhISEtCuXTu9Y68rX7Ru3brWMmtra9y8eVP8XZ9jRnPZ05A7pupjskEzPz8/7Nq1CyUlJRg/fnyTXmPTfFjPj9zb2dkBANq3b9/oOojI7K8+ffrojFNz/6ilpSUmTJiAsLAwg/a3d+/eqKysxL179+p8//79+6ioqIC7u7ve2ywqKkJmZmadI+D63u1gjG38l3l5eQF4Nt1YH8bsW1OmTMGlS5fw2muv4cKFCxgzZgy+/vprvdc3lDmPmSZNuPT/0yQ1pkyZgvj4eDx+/Bje3t7IyMgwWl3V57dr/toePHiwRpns7GwA/zvI/q1kMpmYaD09PZGYmIiCggIcOHAAI0aMMGibmtvuLl68WOf7x44dA/CsjTU0ZyBqtVpcpnm6FhGhX79+KC0txbp162ps69q1a0hISDDaNph2kyZNwogRI/DFF18gMzOzzjJqtRpJSUkAjNu31qxZA2dnZxw5cgS7du2CIAjiJQhd7d4YZj1mnr+oa8xBAwcHBwJApaWlNZZPnz6dAFCnTp3o6tWr4nKVSkUAqHPnzuKybt26EYAagzWa7ZaVlRERkb29PbVs2ZLS09OJiKi4uJj69+9PnTt3ppycHHG90NBQGj16NFVUVBi8T81pUKX6oJlEIiELCwuSSCTk4eFBn332GeXl5dVax9D4BUGgwYMH07hx42oNnFVVVZG7uzv169dPbBMiojfffJMA0Mcff0y3bt2i+Ph4srGxIQD0888/U0lJCTk7OxMAmj17NiUnJ1NERAR5eXmJA17G2EZDNKf2NYQh8d+8eZOcnJyoc+fOtHv3biovLyeiZ/3o6NGjpFQq6ezZs+IyffqWPv22Q4cO4jEqCAJZW1vTyJEjiUh3u1dWVpJarSYA1Lt3b7EOzcBa9QEuJycnAkCVlZVERFRWVqbzmNGsY2iugJZBsyZJuOnp6bRs2TIxGQQHB9OJEyeIiOjy5cs0b9488b0OHTpQREQE5efn11hn06ZNFBsbK/4eFRVFT548oU2bNonLli5dSiUlJZSYmEgKhYIiIiLEGFQqFYWHh5OXlxctXryYwsPDKTo6mtRqdaP2rTl1yOoJ193dnTZu3Ej//PNPves0Jv6MjAzq1q0bzZ07l4qLi4mIqKioiGbPnk09e/akjIyMGuUzMzNp3Lhx1KpVK/Lw8KBLly7RmDFjaMaMGbRr1y5Sq9V09+5d8vPzI4VCQXZ2dhQcHFzjD4UxttEQzaV9S0tLSaFQ0MiRI2nz5s2UnZ2t13qGxq9SqSgmJobc3d3J2tqa3NzcaOjQoRQVFVXrrh5dfSshIUGvfguAnJycKCoqihYsWEB+fn6UlZVFRLrbPSsri5YsWUIAyNLSklJTU+nw4cMkk8kIAIWGhtLDhw8pPj5erHfdunWUn59PRKT1mCkqKqLVq1eL64SGhtLFixcb/HmaNOH+mzWnz2fLli20evVqunXrlt7rNDZ+lUpF69ato7Zt25KLiws5OjrSp59+atDZZHPUXNq3sLBQ/M9FJpORRCKhIUOG0IYNG+jOnTta12su8f/XaUu4/LSwF1j1iR6m0rZtW3z44YewsrLCokWLYGFhAU9PzwaNLjPdLC0tATy7XqkZyLl48SIuX76MJUuWoHfv3vD394e/v79eg6eseeAvkWQGWbhwITZu3AipVIoJEyYYfLtZc3XhwgVkZGSgrKzMLPXXdR8qEYkPzMnIyEBsbCz69u0LZ2dnrFq1qtZsKtb88BkuM1hYWJj4XIGVK1fCxcUFrq6umD9/vrlDazTNBJErV66gf//+WssFBwejsLAQXbt2xYYNG7SWy8/PF295Gjt2rNYp0po6r1+/DolEonVEvnry/euvv7BmzRpERUXB3t5e574x8+GEyxrF0dERkZGRiIyMNHcoRnX79m2oVCpxNpM2L730EgoLC+t9Vi4AFBQUYPv27QCeTVipL+F+9913WLNmDaRSaYNvgSosLGxQeWZanHAZq4M+s64AIDY2Vq9yffv2xe3bt/UqGxMTg5iYGLRq1QqlpaVay0kkEshkMlRVVWHs2LEICgqCVCrFzJkz9aqHmR4nXMaaKW1f1WNpaYny8nL06tULc+bMQVBQkDjTa8+ePaYMkTUQJ1zGmqnqCVfz1ezt2rXDrFmzEBgY2KBp1Kx54ITLWDOluVNBLpfDx8cHc+bMwfjx43V++SRrvjjhMtZMhYeHw8rKCv7+/ujYsaO5w2FGwAmXsWaqrq8zYi82nvjAGGMmwgmXMcZMhBMuY4yZCCdcxhgzEU64jDFmIpxwGWPMRDjhMsaYiWi9D3fv3r2mjOOFcebMGXOHYBTcvnXj9mVNqVbCtbe3h1wux7Rp08wRzwuhS5cu5g7BYNy+unH7ssaSy+V1PptYQg194CZjjDGD8DVcxhgzEU64jDFmIpxwGWPMROQAeDiTMcZM4P8ATTcu6kzWbxYAAAAASUVORK5CYII="/></div></p>
<p>Avantages:</p>
<ul>
<li>Ce mod√®le impacte peu Kinto, Kinto passe simplement le message √† la
  queue et l'oublie imm√©diatement.</li>
<li>La quantit√© de code est assez faible - il ne n√©cessite que le code
  n√©cessaire pour parler au syst√®me de queue.</li>
<li>Si la communaut√© Kinto est active il serait possible d'√©tendre
  rapidement le support √† un nombre raisonnable de service externes de
  files d'attente.</li>
</ul>
<p>Inconv√©nients:</p>
<ul>
<li>Chaque service de queue n√©cessirait un module sp√©cifique √† coder et
  qui devrait √™tre maintenu par la communaut√©.</li>
<li>L'utilisateur final (destinataire, destination ou autre) du message
  serait responsable de l'int√©gration avec le protocole du syst√®me de
  queue.  Autrement dit, si Kinto est configur√© pour utiliser
  RabbitMQ, il faudra que le consommateur des messages parle RabbitMQ
  √©galement.</li>
<li>Kinto n'a aucun contr√¥le ni compr√©hension de ce qui arrive au
  message une fois qu'il a √©t√© pass√© au syst√®me de queuing.</li>
</ul>
<p>La simplicit√© du mod√®le, bien qu'attractive, poss√®de des d√©fauts
importants. Notamment, il va √† l'encontre des r√®gles que nous nous
sommes fix√©es du point de vue d'√™tre agnostique techniquement
puisqu'il impose une technologie au consommateur des messages.</p>
<p>C'est un mod√®le un peu dangereux car il n'y a aucune garantie que les
messages arrivent √† leur destinataire (bien que tous les syst√®mes de
queue ne soient pas tous log√©s √† la m√™me enseigne √† ce sujet).</p>
<h2>L'approche int√©gr√©e</h2>
<p>L'approche oppos√©e est d'int√©grer le syst√®me de queue directement dans
Kinto et de proposer une interface sur laquelle le consommateur puisse
s'enregistrer.</p>
<p><div class="graphviz" style="text-align: center;"><img src="data:image/png;base64,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++ZwOLB//368/PLL6NWrF5566ilkZGTAarXC4XD4zInAyfkL1GQyYevWrXj88cfRp08fzJs3D/v375eX8+ajidxdFkpKSjB37lxMmDABt99+O/r164dDhw7Bbrfjhx9+wNNPP41WrVrh3Llz6N27N1q0aIGPP/74mtsDgGPHjmH48OH497//jYceegi9e/fGwYMH6/wZWK1WvPLKK0hLS8OMGTOQlpaGefPmoUOHDgCApUuXVnoig8FgwPz586s8paGmfXfXOrxFCOETnTquh8PhgBACNpsN2dnZmDZtGnr27Il///vf+OGHH+QfifV5i27btm3QaDQIDQ3F9u3bodfr8dBDD0GSJPTt2xe//fYbAGD//v2Ij4/H0qVLAVz9vFrT8XTDDTfg0qVLVWJ46623oNFo8Mwzz8g187U9VmtatzsIIeTvwHmef/3119GnT59K53khhM+e5w0GA9asWYP+/fsjPj4eU6dOrVNnGmdTo7vuuuuqy40YMUL++2plxtVzOwAcPnwYKSkpeOGFFzB9+nQoFAoYjUaXzmMmkwmrVq3CAw88gB49emDdunVo2rQpunbtiiNHjuDAgQNISUlBREQE7rjjDhw+fLjS/nitXIo6OH36tDh06JBLk7u0a9dOABDJyckCgNiwYcNVly8sLBQARLt27YTD4RC5ubkiNDRUABCvvPKKOHnypNiyZYsAIHr06CG/z/keJ4PBIBITE8WsWbPkeXl5eSIxMVG0bt1aFBUV1XnftmzZIsaOHSsiIiIEAKFUKgWAq07BwcEufwfumlatWnXNuAAItVotAIgWLVqISZMmib179wqHw1Hnz+l6uassOBwOkZqaKnJycuR5/fv3F7GxsSI/P1/s3LlTBAUFCQDi9ddfF99++6145JFHRE5OjkvbS0xMFG3atBFCCGG1WkVERITo0KFDpX25MqZrKS8vF8nJyWLMmDHCbrcLIYQoKSmR43Fq06ZNpf9fOe9q+15cXOy2dXhLSUmJx4+n65l2795dq2MwKipKjB07VmzcuLFej8FJkyYJrVYr9Hq9EEKI0tJSERsbKx588EF5GZvNJnr16iUcDsc1z6sXLlyo9nh69NFHhdFolK8HQlw+vseOHSsOHjwor+t6jlXnuuvL7t27xSOPPCKioqJcPs8rlcp6i6cmP/74o0tlTKPRCADixhtvFLNmzRIT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"/></div></p>
<p>Avantages :</p>
<ul>
<li>
<p>Kinto serait livr√© comme une solution cl√© en main et bien qu'on
  utilise un syst√®me de queuing
  (<a href="http://www.celeryproject.org/">Celery</a>, par exemple), ce serait
  compl√®tement transparent pour l'utilisateur.</p>
</li>
<li>
<p>Avec ce syst√®me compl√®tement int√©gr√©, Kinto aurait une visibilit√©
  compl√®te du processus et pourrait v√©rifier que les messages arrivent
  bien √† destination.</p>
</li>
<li>√Ä l'exception du service de queue, il n'y aurait aucun autre service √† d√©ployer.</li>
</ul>
<p>Inconv√©nient :</p>
<ul>
<li>Cela ferait consid√©rablement augmenter la port√©e, la complexit√© et
  la taille de Kinto.</li>
<li>Le fait que le syst√®me soit int√©gr√© directement dans Kinto n√©cessite
  de red√©ployer Kinto si le syst√®me de notification change.</li>
<li>De la m√™me mani√®re, passer √† l'√©chelle le syst√®me de notification
  voudrait dire passer Kinto √† l'√©chelle.</li>
</ul>
<p>Ce mod√®le a certains avantages ; cependant, la quantit√© de code
n√©cessaire est une raison suffisante pour se poser deux fois la
question (le v√©ritable probl√®me √©tant de ne pas transformer Kinto en
une <a href="https://fr.wikipedia.org/wiki/D%C3%A9rive_des_objectifs">usine √† gaz</a>).
Comme pour la solution pr√©c√©dente, nous lions l'utilisateur √† un
syst√®me de queues sans respecter notre r√®gle d'agnosticisme technique.
Enfin, le passage √† l'√©chelle n'apparait pas extr√™mement flexible
(bien que √ßa reste de la th√©orie) - il semble dommage d'augmenter deux
ressources quand une pourrait suffire.</p>
<h2>Le courtier (Broker)</h2>
<p>L'approche finale est en fait un m√©lange des deux pr√©c√©dentes, nous
impl√©mentons un "courtier" (broker) support√© par l'√©cosyst√®me Kinto,
mais qui est facilement interchangeable et qui est externe au service
Kinto.</p>
<p>Ce broker peut √™tre √©crit en quelques lignes de Python et int√©gr√©
comme le font les jolies <em>stacks</em> bas√©es sur des <em>micro-services</em>.</p>
<p>Cela permet de d√©coupler le syst√®me de queues de Kinto tout en
garantissant l'interoperabilit√© et le contr√¥le des messages.</p>
<p><div class="graphviz" style="text-align: center;"><img src="data:image/png;base64,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"/></div></p>
<p>Avantages :</p>
<ul>
<li>
<p>Proposer une solution propre et qui expose simplement la r√©partition
  des responsabilit√©s.</p>
</li>
<li>
<p>Lib√®re √† la fois Kinto et le consommateur de toute d√©pendances
  puisque le transport entre tous les composants se fait en HTTP.</p>
</li>
<li>Permet de passer √† l'√©chelle le Broker ind√©pendamment de Kinto.</li>
<li>Ne n√©cessite que tr√®s peu de code du c√¥t√© de Kinto.</li>
<li>Permet un ensemble de solutions tr√®s flexibles qui permettent de
  connecter √† peu pr√®s n'importe quel consommateur.</li>
</ul>
<p>Inconv√©nients:</p>
<ul>
<li>
<p>Le courtier (broker) doit parler HTTP et impl√©menter un protocole de
  notre choix.</p>
</li>
<li>
<p>Cette solution n√©cessite de d√©ployer et de maintenir deux services
  (difficult√© qui varie en fonction de la complexit√© du broker).</p>
</li>
</ul>
<p>Nous aimons particuli√®rement ce mod√®le car il respecte les r√®gles que
nous nous sommes fix√©es (sans concessions). Pour √™tre tout-√†-fait
honn√™te, le c√¥t√© "robuste" est un peu approximatif dans ce cas car
nous passons la responsabilit√© √† un autre service.  Cependant gr√¢ce au
c√¥t√© interop√©rable de la solution nous pouvons avoir un certain degr√©
de confiance dans le processus.</p>
<p>Un autre aspect int√©ressant de cette solution, qui d√©couple le broker
de Kinto, est de permettre √† n'importe qui d'y impl√©menter des r√®gles
m√©tiers alors que ce serait inappropri√© de les impl√©menter dans Kinto.</p>
<p>Un exemple notable est la gestion des erreurs. La mani√®re dont nous
traitons les erreurs de notification Balrog n'est pas forc√©ment
universelle et aurait peu de sens hors du cadre de notre cas
d'utilisation.</p>
<p>Pour finir, √ßa vaut le coup de mentionner ici que le broker
pourrait √™tre directement consommateur (s'il est assez rapide pour ne
pas ralentir Kinto), on a d√©j√† des cas d'utilisations √† Mozilla.</p>
<h1>Feuille de route</h1>
<p>Comme vous vous en doutez, nous avons opt√© pour la troisi√®me solution
(Le courtier). Notre feuille de route pour passer de l'id√©e √† la
r√©alisation, en commen√ßant par un prototype, puis par un
<a href="https://en.wikipedia.org/wiki/Minimum_viable_product">MVP</a> et pour
finir en am√©liorant par it√©ration jusqu'√† arriver √† une solution
utilisable par la communaut√©.</p>
<p>Concr√®tement le prototype n√©cessite :</p>
<ul>
<li>De d√©finir les types d'√©v√®nements, s'il faut que l'√©v√®nement soit
  d√©clench√© avant ou apr√®s ainsi que la structure des informations
  envoy√©es lors d'un √©v√®nement.</li>
<li>D'activer des √©v√®nements Python synchrones en utilisant <a href="http://docs.pylonsproject.org/projects/pyramid//en/latest/narr/events.html">le syst√®me
  d'√©v√®nements de
  Pyramid</a>
  (ce que nous avions d√©j√† fait <a href="https://github.com/spiral-project/daybed/blob/master/daybed/events.py">dans
  Daybed</a>).</li>
<li>D'impl√©menter un backend de notifications dans Kinto permettant de
  s'enregistrer sur ces √©v√®nements.</li>
</ul>
<p>Ensuite, pour la partie MVP, nous ajouterons :</p>
<ul>
<li>R√©aliser un service HTTP minimaliste (bas√© sur une ioloop) qui
  recevra les notifications via un <code>POST</code> HTTP, qui r√©alisera une
  action et enverra le r√©sultat directement √† Balrog.</li>
</ul>
<p>Une fois le mod√®le valid√© on continuera √† l'am√©liorer de mani√®re
it√©rative, probablement sous la forme d'un "broker standard"
configurable qui sera maintenu comme partie de l'√©cosyst√®me.</p>
<p>Nous aimons bien l'id√©e d'avoir des consommateurs qui viendraient
s'enregistrer seuls directement sur le broker comme des webhooks, mais
ce sera l'objet d'une discussion future.</p>
<h1>Impressions</h1>
<p>Comme toujours, nous souhaitons avoir vos retours.</p>
<p>Nous √©crivons avant tout ces articles pour √©changer avec vous, alors
n'h√©sitez surtout pas √† poster vos questions, remarques,
interrogations via les commentaires par exemple.</p>
            <div class="hr"></div>
            <a href="#" class="go-top">Revenir au d√©but</a>
<div class="comments">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = "servicedenuages"; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div><footer class="footer">
    <p>&copy; Service de nuages &ndash;
        D√©velopp√© avec <a href="https://github.com/PurePelicanTheme/pure">Pure Theme</a>
        et <a href="http://blog.getpelican.com/">Pelican</a>
    </p>
</footer>        </div>
    </div>
</div>
    <script>
        var $top = $('.go-top');

        // Show or hide the sticky footer button
        $(window).scroll(function() {
            if ($(this).scrollTop() > 200) {
                $top.fadeIn(200);
            } else {
                $top.fadeOut(200);
            }
        });

        // Animate the scroll to top
        $top.click(function(event) {
            event.preventDefault();
            $('html, body').animate({scrollTop: 0}, 300);
        })

        // Makes sure that the href="#" attached to the <a> elements
        // don't scroll you back up the page.
        $('body').on('click', 'a[href="#"]', function(event) {
            event.preventDefault();
        });
    </script>
<!-- Piwik -->
<script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//piwik.notmyidea.org/";
    _paq.push(['setTrackerUrl', u+'piwik.php']);
    _paq.push(['setSiteId', 1]);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<noscript><p><img src="//piwik.notmyidea.org/piwik.php?idsite=1" style="border:0;" alt="" /></p></noscript>
<!-- End Piwik Code -->
  <script src="http://www.servicedenuages.fr/theme/js/instantclick.min.js" data-no-instant></script>
  <script data-no-instant>InstantClick.init();</script>
</body>
</html>