<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Service de nuages, ">

        <link rel="alternate"  href="http://www.servicedenuages.fr/feeds/all.atom.xml" type="application/atom+xml" title="Service de nuages Full Atom Feed"/>

        <title>Kinto.js 1.0 released // Service de nuages // </title>


    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.3.0/pure-min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.1.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="http://www.servicedenuages.fr/theme/css/pure.css">
    <link rel="stylesheet" href="http://www.servicedenuages.fr/theme/css/pygments.css">

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/fitvids/1.0.1/jquery.fitvids.min.js"></script>
    <script>
        $(document).ready(function(){
            $(".content").fitVids();
        });
    </script>
</head>

<body>
<div class="pure-g-r" id="layout">
    <div class="sidebar sidebar-article pure-u">
        <header class="header-article">
            <hgroup>
                <h5>PubliÃ©</h5>
                <p title="~612 mots">~3mn de lecture ðŸ•‘</p>
                <p>mar. 27 octobre 2015</p>
                <a href="/">&larr;Liste des articles</a>
            </hgroup>
        </header>
    </div>
    <div class="pure-u">
        <div class="content">
            <section class="post">
                <header class="post-header">
                    <h1>Kinto.js 1.0 released</h1>
                </header>
            </section>
            <p><a class="reference external" href="https://kintojs.readthedocs.org/">Kinto.js</a> is an offline-first JavaScript client leveraging the <a class="reference external" href="https://kinto.readthedocs.org/">Kinto API</a> for data synchronization. In a world where connectivity isn't always guaranteed, local persistence in the browser has become an <a class="reference external" href="http://offlinefirst.org/">identified priority</a> for Web applications, especially on mobile.</p>
<p>The basic principle is simple; save your data locally, assuming there's no network connectivity. Then as soon as it's available, retrieve remote changes and push your local data to a remote server.</p>
<div class="highlight"><pre><span class="kr">const</span> <span class="nx">kinto</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Kinto</span><span class="p">({</span><span class="nx">remote</span><span class="o">:</span> <span class="s2">"https://kinto.dev.mozaws.net/v1/"</span><span class="p">});</span>
<span class="kr">const</span> <span class="nx">tasks</span> <span class="o">=</span> <span class="nx">kinto</span><span class="p">.</span><span class="nx">collection</span><span class="p">(</span><span class="s2">"tasks"</span><span class="p">);</span>

<span class="nx">tasks</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span><span class="nx">label</span><span class="o">:</span> <span class="s2">"Test kinto.js"</span><span class="p">,</span> <span class="nx">done</span><span class="o">:</span> <span class="kc">false</span><span class="p">})</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">_</span> <span class="o">=&gt;</span> <span class="nx">tasks</span><span class="p">.</span><span class="nx">sync</span><span class="p">())</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">ok</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">alert</span><span class="p">(</span><span class="s2">"Data have been synchronized!"</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">});</span>
</pre></div>
<p>Local persistence in the browser is achieved using <a class="reference external" href="https://www.w3.org/TR/IndexedDB/">IndexedDB</a>, and we've tried hard to hide its inherent low-level usage complexity â€” mainly due to its fully asynchronous natureÂ â€” through a simpler yet convenient <a class="reference external" href="https://www.promisejs.org/">Promises</a> based API.</p>
<p>Kinto.js provides basic local CRUD operations for <a class="reference external" href="https://kintojs.readthedocs.org/en/latest/api/#creating-a-record">creating</a>, <a class="reference external" href="https://kintojs.readthedocs.org/en/latest/api/#updating-a-record">updating</a>, <a class="reference external" href="https://kintojs.readthedocs.org/en/latest/api/#deleting-records">deleting</a>, <a class="reference external" href="https://kintojs.readthedocs.org/en/latest/api/#retrieving-a-single-record">retrieving</a> and <a class="reference external" href="https://kintojs.readthedocs.org/en/latest/api/#listing-records">listing</a> records from a local collection. Each time you want to reflect its state to a remote server, you only ever have to <a class="reference external" href="https://kintojs.readthedocs.org/en/latest/api/#fetching-and-publishing-changes">call the sync() method</a>!</p>
<p>We've set up a <a class="reference external" href="https://kinto.github.io/kinto.js/">simple demo application</a> using a public Mozilla test server instance, so you can check how it behaves by yourself if you're interested. The source code of this app is <a class="reference external" href="https://github.com/Kinto/kinto.js/blob/66ef077796a8e4a8b0d9a95389a61ea57cbbfde3/demo/demo.js">available on Github</a>, and is also the base use case for the <a class="reference external" href="http://kintojs.readthedocs.org/en/latest/tutorial/">Kinto.js tutorial</a> you should probably take if you want to get your feet wet.</p>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">Please note that this public Kinto test server instance is flushed every morning at 7AM UTC, so don't rely on it for production useÂ ;)</p>
</div>
<div class="section" id="synchronizing-and-reconciling-data">
<h2>Synchronizing and reconciling data</h2>
<p>Synchronizing local and remote data is a tough topic, and conflicts may occur quite easily if things are changing often from different sources (think multiple devices updating a same server); Kinto.js supports three distinct <em>synchronization strategies</em> to handle such a situation:</p>
<ul class="simple">
<li>The server is authoritative: all conflicting records are overriden locally by their version from the server;</li>
<li>The client is authoritative: all conflicting records are resolved using their local versions, and force-pushed to the server;</li>
<li>No party is authoritative: the synchronization flow is halted, and all conflicting records are explicitely exposed, so developers can then decide how they want resolve each of them individually.</li>
</ul>
<p>You can read more about <a class="reference external" href="https://kintojs.readthedocs.org/en/latest/api/#resolving-conflicts-manually">conflict resolution</a> and <a class="reference external" href="http://kintojs.readthedocs.org/en/latest/api/#synchronization-strategies">sychronization strategies</a> in the dedicated sections of the project documentation.</p>
<p>The diagram flow below describes pretty much accurately what's happening under the hood when <tt class="docutils literal">sync()</tt> is called:</p>
<img alt="Kinto.js synchronization flow" src="http://www.servicedenuages.fr/en/../images/kintojs-sync-flow.png" style="width: 654px; height: auto; max-width: 100%;"/>
</div>
<div class="section" id="a-case-for-encryption">
<h2>A case for encryption</h2>
<p>Remote data storage is certainly a topic raising concerns when it comes to security and privacy.</p>
<p>To help addressing these issues, Kinto.js exposes a <a class="reference external" href="http://kintojs.readthedocs.org/en/latest/api/#transformers">Remote Transformers API</a>, which allow processing records before they're sent to the server and after they've been retrieved from it.</p>
<p>This is a perfect hook for supporting end-to-end encryption, which <a class="reference external" href="http://www.servicedenuages.fr/en/kinto-encryption-example">we already wrote about earlier</a>.</p>
</div>
<div class="section" id="getting-started">
<h2>Getting started</h2>
<p>We already mentioned the <a class="reference external" href="http://kintojs.readthedocs.org/en/latest/tutorial/">Kinto.js tutorial</a>, but there's more; we've created a rather opinionated  <a class="reference external" href="https://github.com/Kinto/kinto-react-boilerplate">Kinto.js + React boilerplate</a>, so you can bootstrap your next offline-first Web application in no timeÂ ;)</p>
</div>
<div class="section" id="current-limitations">
<h2>Current limitations</h2>
<p>We've listed Kinto.js current limitations â€” the ones we're aware of â€” in a <a class="reference external" href="http://kintojs.readthedocs.org/en/latest/limitations/">dedicated section of the documentation</a>.</p>
<p>Sure, that's a bunch of work remaining, and you're obviously <a class="reference external" href="http://kintojs.readthedocs.org/en/latest/hacking/">invited to contribute</a> if you want to help!</p>
</div>
<div class="section" id="the-future-of-kinto-js">
<h2>The future of Kinto.js</h2>
<p>Of course 1.0 is a very first step towards a broader goal; foremost, we absolutely want to support bulk updates by taking advantage of IndexedDB transactions, for performance and consistency purposes.</p>
<p>So stay tuned for next upcoming releases, and feel free to provide feedback on the <a class="reference external" href="https://mail.mozilla.org/listinfo/kinto">project mailing-list</a> or by <a class="reference external" href="https://github.com/Kinto/kinto.js/issues/new">filing an issue on Github</a>Â :)</p>
</div>
<div class="section" id="update">
<h2>Update</h2>
<p>We're not even done polishing this blog post and the <a class="reference external" href="https://github.com/Kinto/kinto.js/releases/tag/v1.1.0">1.1 version is already there</a>! Take it the easy way, that means the project is on steroidsÂ ;)</p>
</div>

            <div class="hr"></div>
            <a href="#" class="go-top">Revenir au dÃ©but</a>
<div class="comments">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = "servicedenuages"; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div><footer class="footer">
    <p>&copy; Service de nuages &ndash;
        DÃ©veloppÃ© avec <a href="https://github.com/PurePelicanTheme/pure">Pure Theme</a>
        et <a href="http://blog.getpelican.com/">Pelican</a>
    </p>
</footer>        </div>
    </div>
</div>
    <script>
        var $top = $('.go-top');

        // Show or hide the sticky footer button
        $(window).scroll(function() {
            if ($(this).scrollTop() > 200) {
                $top.fadeIn(200);
            } else {
                $top.fadeOut(200);
            }
        });

        // Animate the scroll to top
        $top.click(function(event) {
            event.preventDefault();
            $('html, body').animate({scrollTop: 0}, 300);
        })

        // Makes sure that the href="#" attached to the <a> elements
        // don't scroll you back up the page.
        $('body').on('click', 'a[href="#"]', function(event) {
            event.preventDefault();
        });
    </script>
<!-- Piwik -->
<script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//piwik.notmyidea.org/";
    _paq.push(['setTrackerUrl', u+'piwik.php']);
    _paq.push(['setSiteId', 1]);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<noscript><p><img src="//piwik.notmyidea.org/piwik.php?idsite=1" style="border:0;" alt="" /></p></noscript>
<!-- End Piwik Code -->
  <script src="http://www.servicedenuages.fr/theme/js/instantclick.min.js" data-no-instant></script>
  <script data-no-instant>InstantClick.init();</script>
</body>
</html>